.tutorial
  %h1
    Taller de Rails al Lado del Cliente

  %h2
    Introducción

  %p
    Esta es la applicación que vamos a usar hoy.

  %h2
    Aceder a la Base de Datos

  %p
    En la base de datos de esta applicación hay una tabla que se llama
    .code
      persona
  %p
    Puedes acceder a tus datos desde esta tabla. Por ejemplo, puedes buscar una persona por su nombre:
    .code
      Persona.find_by_name("Rebecca")
  %p
    La clase persona tiene muchos metódos. Si tienes un objeto que es una Persona:
    .code
      persona = Persona.find_by_name("Rebecca")
  %p
    Puedes llamar este método:
    .code
      persona.hobby
  %p
    Para obtener su hobby, o para obtener su sector:
    .code
      persona.sector

  %h2
    Imprimir con HAML

  %p
    En tu command line (el programa 'Terminal'), ejecuta esta linea dentro del directorio de la aplicación:
    .code
      rails server
  %p
    Ahora, en tu browser, puedes visitar
    %span.filename
      localhost:3000
    Para ver sus cambios a la pagina web.

  %p
    Intentalo ahora! Dirígete a
    %span.filename
      app/views/personas/_hobbies.html.haml
    para añadir una linea con tu hobby. Utiliza la base de datos! El código desde el archivo va a estar abajo. En el archivo .haml, la logica para imprimir sus datos va a ser algo como esto (el "=" al principio de la linea significa que el código es Ruby, y Ruby no es HTML!):
    .code
      \= persona.sector
  = render :partial => "hobbies"

  %h2
    Migraciones

  %p
    Es posible que no te guste tu hobby. En el archivo:
    %span.filename
      db/seeds.rb

  %p
    Puedes escribir una migración para cambiarlo. Primeramente, recuerda que necesitas encontrar tu nombre:
    .code
      persona = Persona.find_by_name("Rebecca")
  %p
    Ahora, puedes asignar tu hobby:
    .code
      persona.hobby = "Correr"
  %p
    Finalmente, necesitas hacer un "save" a la base de datos.
    .code
      persona.save!
  %p
    Entonces, haz un refresh a la pagina web y puedes ver tus cambios arriba!

  %h2
    Otra migración

  %p
    Ahora necesitas tener un sector. Añade otra migración a 
    %span.filename
      db/seeds.rb
    Para especificar tu sector. Debes hacer un cambio a 
    %span.filename
      app/views/personas/_sectors.html.haml
    y hacer un refresh.
  = render :partial => "sectors"
